<f:layout name="Default" />
<f:section name="main">

<f:if condition="{settings.showClosedTickets}">
	<f:then>
		<h1 style="text-align: center;"><f:translate key="tx_pimentrougetickets_domain_model_ticket.all_closed_tickets" /></h1>
	</f:then>
	<f:else>
		<!-- <h1 style="text-align: center;"><f:translate key="tx_pimentrougetickets_domain_model_ticket.my_opened_tickets" /></h1> -->	
	</f:else>
</f:if>            

<f:flashMessages />
<f:if condition="{tickets}">
  <f:then>
   	<table id="tickets" class="table table-striped table-bordered" width="100%" cellspacing="0">
   		<f:if condition="{settings.showClosedTickets}">
   			<f:then>
   				<f:render partial="Ticket/Table/ArchiveHeader" arguments="{_all}" /> 	
   			</f:then>
   			<f:else>
   				<f:render partial="Ticket/Table/Header" arguments="{_all}" /> 	
   			</f:else>
   		</f:if>
      <tbody>
        <f:for each="{tickets}" as="ticket" key="number" iteration="itemIteration">
            <tr>
              <f:render partial="Ticket/Table/TicketList" arguments="{_all}" />
            </tr>                      
        </f:for>       	              
      </tbody>
   	<f:render partial="Ticket/Table/Footer" arguments="{_all}" />       
    </table>       
  </f:then>
  <f:else>
    <f:translate key="tx_pimentrougetickets_domain_model_ticket.no_pending" />
  </f:else>
</f:if>         	

<f:render partial="Ticket/Modal/EventModal" arguments="{_all}" /> 

</f:section>